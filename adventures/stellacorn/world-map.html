<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Whispering Forest</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
        text-align: center;
        background: radial-gradient(1100px 680px at 18% 12%, #1c2b30, #0a0d12 70%);
        color: #e6efe9;
      }
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background:
          radial-gradient(140px 80px at 12% 18%, rgba(255, 255, 255, 0.06), transparent 65%),
          radial-gradient(220px 140px at 86% 26%, rgba(255, 255, 255, 0.04), transparent 70%),
          radial-gradient(120px 70px at 30% 78%, rgba(255, 255, 255, 0.05), transparent 70%);
        pointer-events: none;
        z-index: 0;
      }
      h2,
      #controls {
        position: relative;
        z-index: 1;
      }
      #map-shell {
        margin: 10px auto 0;
        max-width: 1180px;
        display: grid;
        grid-template-columns: minmax(0, 1fr) 260px;
        gap: 16px;
        align-items: start;
        position: relative;
        z-index: 1;
        padding: 0 16px;
      }
      #worldCanvas {
        width: 100%;
        height: auto;
        border: 1px solid rgba(198, 214, 205, 0.2);
        background: linear-gradient(160deg, #1c2426, #0f1417 60%);
        box-shadow: 0 24px 70px rgba(0, 0, 0, 0.6);
        border-radius: 12px;
      }
      #mission-panel {
        text-align: left;
        background: rgba(12, 16, 18, 0.85);
        border: 1px solid rgba(198, 214, 205, 0.2);
        border-radius: 16px;
        padding: 14px 16px;
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
      }
      #mission-name {
        margin: 0 0 6px;
        font-size: 1.1rem;
      }
      #mission-status {
        margin: 0 0 10px;
        color: #cfe2d8;
      }
      #mission-stats {
        margin: 0;
        padding-left: 16px;
        color: #cfe2d8;
      }
      #mission-action {
        margin-top: 12px;
        width: 100%;
      }
      #controls {
        margin: 14px auto 0;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        align-items: center;
      }
      .btn {
        padding: 6px 12px;
        font-size: 15px;
        cursor: pointer;
        border: 1px solid rgba(36, 40, 41, 0.35);
        border-radius: 999px;
        background: #d8dbc9;
        color: #1b1e21;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
      }
      .btn[disabled] {
        opacity: 0.55;
        cursor: default;
      }
      #progress-hint {
        color: #cfe2d8;
        font-size: 0.9rem;
      }
      @media (max-width: 980px) {
        #map-shell {
          grid-template-columns: 1fr;
        }
        #mission-panel {
          order: -1;
        }
      }
    </style>
  </head>
  <body>
    <h2>Whispering Forest</h2>
    <div id="map-shell">
      <canvas id="worldCanvas" width="900" height="520"></canvas>
      <aside id="mission-panel">
        <h3 id="mission-name">Hover a mission</h3>
        <p id="mission-status">Select a node to see details.</p>
        <ul id="mission-stats"></ul>
        <button class="btn" id="mission-action" disabled>
          Choose a mission
        </button>
      </aside>
    </div>
    <div id="controls">
      <button class="btn" id="export-progress">Export Progress</button>
      <button class="btn" id="import-progress">Import Progress</button>
      <span id="progress-hint">Progress saves locally in this browser.</span>
      <button class="btn" onclick="location.href='../world-map.html'">
        Back to Transylponia
      </button>
      <button class="btn" onclick="location.href='../../index.html'">
        Back to Home
      </button>
      <input type="file" id="import-file" accept="application/json" hidden />
    </div>
    <script type="module" src="../../assets/js/stellacorn/world-map.js"></script>
  </body>
</html>
