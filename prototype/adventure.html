<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Transylponia Adventure</title>
    <style>
      :root {
        color-scheme: dark;
      }
      body {
        margin: 0;
        padding: 0;
        font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
        background: radial-gradient(1100px 680px at 18% 12%, #1f2f2b, #0a0d12 70%);
        color: #e6efe9;
        text-align: center;
      }
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background:
          radial-gradient(140px 80px at 12% 18%, rgba(255, 255, 255, 0.06), transparent 65%),
          radial-gradient(220px 140px at 86% 26%, rgba(255, 255, 255, 0.04), transparent 70%),
          radial-gradient(120px 70px at 30% 78%, rgba(255, 255, 255, 0.05), transparent 70%);
        pointer-events: none;
      }
      .top-bar {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 16px;
        padding: 14px 16px 8px;
      }
      #adventureCanvas {
        border: 1px solid rgba(198, 214, 205, 0.2);
        background: linear-gradient(160deg, #1c2426, #0f1417 60%);
        box-shadow: 0 24px 70px rgba(0, 0, 0, 0.6);
        border-radius: 12px;
      }
      .btn {
        padding: 6px 14px;
        font-size: 15px;
        cursor: pointer;
        border: 1px solid rgba(36, 40, 41, 0.35);
        border-radius: 999px;
        background: #d8dbc9;
        color: #1b1e21;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
      }
      .btn[disabled] {
        opacity: 0.5;
        cursor: default;
      }
      #prompt {
        position: fixed;
        right: 20px;
        bottom: 20px;
        padding: 6px 14px;
        border-radius: 999px;
        display: inline-block;
        background: rgba(20, 26, 28, 0.7);
        border: 1px solid rgba(198, 214, 205, 0.2);
        z-index: 15;
      }
      #hud {
        margin: 10px auto 0;
        display: grid;
        gap: 6px;
        max-width: 560px;
        --resource-icon-size: 32px;
      }
      #objectives,
      #progress,
      #inventory {
        padding: 6px 14px;
        border-radius: 999px;
        display: inline-block;
        background: rgba(14, 18, 20, 0.6);
        border: 1px solid rgba(198, 214, 205, 0.18);
      }
      #inventory {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 16px;
      }
      .inventory-item {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
      }
      .resource-icon {
        width: var(--resource-icon-size);
        height: var(--resource-icon-size);
        border-radius: 10px;
        border: 1px solid rgba(20, 26, 28, 0.6);
        box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.08);
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
      }
      #status {
        margin: 8px auto 0;
        color: #cfe2d8;
      }
      #dialog {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(8, 10, 12, 0.75);
      }
      #dialog.active {
        display: flex;
      }
      #dialog-card {
        max-width: 520px;
        background: #13191b;
        border: 1px solid rgba(198, 214, 205, 0.2);
        border-radius: 18px;
        padding: 20px 22px;
        text-align: left;
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
      }
      #dialog-hero {
        width: 160px;
        height: 160px;
        border-radius: 18px;
        border: 1px solid rgba(198, 214, 205, 0.2);
        background: rgba(8, 10, 12, 0.5);
        display: grid;
        place-items: center;
        margin-bottom: 16px;
      }
      #dialog-hero img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
      }
      #hover-card {
        position: fixed;
        right: 22px;
        top: 90px;
        width: 220px;
        padding: 14px;
        border-radius: 18px;
        background: rgba(12, 16, 18, 0.92);
        border: 1px solid rgba(198, 214, 205, 0.2);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
        display: grid;
        gap: 10px;
        z-index: 20;
      }
      #hover-card[hidden] {
        display: none;
      }
      #hover-card-hero {
        width: 100%;
        height: 140px;
        border-radius: 14px;
        border: 1px solid rgba(198, 214, 205, 0.18);
        background: rgba(8, 10, 12, 0.6);
        display: grid;
        place-items: center;
        overflow: hidden;
      }
      #hover-card-hero img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
      }
      #hover-card-name {
        margin: 0;
        font-size: 1rem;
      }
      #hover-card-stats {
        display: grid;
        gap: 6px;
        font-size: 0.85rem;
      }
      .hover-stat {
        display: flex;
        justify-content: space-between;
        gap: 8px;
        color: #cfe2d8;
      }
      #dialog-text {
        margin: 0 0 16px;
        line-height: 1.5;
      }
    </style>
  </head>
  <body>
    <div class="top-bar">
      <h2 id="map-title">Quiet Woods</h2>
      <button class="btn" id="return-btn" disabled>Return to World Map</button>
    </div>
    <canvas id="adventureCanvas" width="1600" height="960"></canvas>
    <div id="prompt" hidden>Press E to talk</div>
    <div id="hover-card" hidden>
      <div id="hover-card-hero">
        <img id="hover-card-img" alt="" />
      </div>
      <h3 id="hover-card-name"></h3>
      <div id="hover-card-stats"></div>
    </div>
    <div id="hud">
      <div id="objectives"></div>
      <div id="progress"></div>
      <div id="inventory"></div>
    </div>
    <div id="status"></div>

    <div id="dialog">
      <div id="dialog-card">
        <div id="dialog-hero" hidden>
          <img id="dialog-hero-img" alt="" />
        </div>
        <p id="dialog-text"></p>
        <button class="btn" id="dialog-close">Close</button>
      </div>
    </div>

    <script type="module" src="./adventure.js"></script>
  </body>
</html>
