<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pony Parade</title>
    <link rel="icon" href="assets/ui/icons/health.webp" type="image/webp" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="sky">
      <div class="glow"></div>
    </div>
    <header class="hero">
      <nav class="nav">
        <div class="logo">Pony Parade</div>
        <div class="nav-links">
          <a href="#ponies">Meet the Ponies</a>
          <a href="#speech">Talk</a>
          <a href="#adventures">Adventures</a>
          <a href="#creators">Create</a>
        </div>
      </nav>
      <div class="hero-content">
        <div class="hero-text">
          <p class="eyebrow">Sunshine yellow + royal purple</p>
          <h1>Welcome to the Pony Parade Playground</h1>
          <p class="lead">
            A cozy corner of the web filled with galloping friends, bright
            colors, and tiny adventures. Pick a pony, make a wish, and start
            exploring.
          </p>
          <div class="hero-actions">
            <a class="btn primary" href="#ponies">Meet the Herd</a>
            <a class="btn ghost" href="#creators">Make Your Own</a>
          </div>
        </div>
        <div class="hero-card">
          <div class="hero-card-inner">
            <p class="card-title">Today in Ponyland</p>
            <p class="card-copy">
              The meadow is sparkling, the clouds are cotton candy, and the
              ponies are learning new dances.
            </p>
            <div class="cloud-badges">
              <span>Cloud Hills</span>
              <span>Rainbow Bridge</span>
              <span>Glitter Grove</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section id="adventures" class="section">
        <div class="section-title">
          <h2>Adventures to Try</h2>
          <p>Pick a quest and let the ponies guide the way.</p>
        </div>
        <div class="adventure-grid">
          <a
            class="adventure adventure-link"
            href="adventures/stellacorn/world-map.html"
          >
            <h3>Stellacorn in the Whispering Forest</h3>
            <p>Follow the clues and help the forest heal.</p>
          </a>
          <a
            class="adventure adventure-link muted"
            aria-disabled="true"
            role="link"
            tabindex="-1"
          >
            <h3>Taticorn's Adventures in Transylponia</h3>
            <p>Coming soon!</p>
          </a>
        </div>
      </section>
      <section id="map" class="section map">
        <div class="section-title">
          <h2>Ponyville Map</h2>
          <p>Watch the ponies wander along the main roads of Ponyville.</p>
        </div>
        <div class="map-card">
          <div class="map-controls">
            <label class="map-toggle" for="map-label-toggle">
              <input type="checkbox" id="map-label-toggle" checked />
              <span>Show pony labels</span>
            </label>
          </div>
          <div id="pony-command-menu" class="pony-command-menu" hidden>
            <div class="pony-command-title">Pony</div>
            <div class="pony-command-target" data-command-target>
              Heading: Wandering
            </div>
            <div class="pony-command-stats" data-command-stats>
              <div class="pony-command-stat" data-stat="health">
                <picture>
                  <source srcset="assets/ui/icons/health.webp" type="image/webp" />
                  <img src="assets/ui/icons/health.webp" alt="" />
                </picture>
                <span class="pony-command-value">--</span>
              </div>
              <div class="pony-command-stat" data-stat="thirst">
                <picture>
                  <source srcset="assets/ui/icons/thirst.webp" type="image/webp" />
                  <img src="assets/ui/icons/thirst.webp" alt="" />
                </picture>
                <span class="pony-command-value">--</span>
              </div>
              <div class="pony-command-stat" data-stat="hunger">
                <picture>
                  <source srcset="assets/ui/icons/hunger.webp" type="image/webp" />
                  <img src="assets/ui/icons/hunger.webp" alt="" />
                </picture>
                <span class="pony-command-value">--</span>
              </div>
              <div class="pony-command-stat" data-stat="tiredness">
                <picture>
                  <source srcset="assets/ui/icons/tired.webp" type="image/webp" />
                  <img src="assets/ui/icons/tired.webp" alt="" />
                </picture>
                <span class="pony-command-value">--</span>
              </div>
              <div class="pony-command-stat" data-stat="boredom">
                <picture>
                  <source srcset="assets/ui/icons/boredom.webp" type="image/webp" />
                  <img src="assets/ui/icons/boredom.webp" alt="" />
                </picture>
                <span class="pony-command-value">--</span>
              </div>
            </div>
            <div class="pony-command-actions">
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="eat"
                aria-label="Eat"
                title="Eat"
              >
                <picture>
                  <source srcset="assets/ui/icons/hunger.webp" type="image/webp" />
                  <img src="assets/ui/icons/hunger.webp" alt="" />
                </picture>
              </button>
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="drink"
                aria-label="Drink"
                title="Drink"
              >
                <picture>
                  <source srcset="assets/ui/icons/thirst.webp" type="image/webp" />
                  <img src="assets/ui/icons/thirst.webp" alt="" />
                </picture>
              </button>
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="vet"
                aria-label="Vet Clinic"
                title="Vet Clinic"
              >
                <picture>
                  <source srcset="assets/ui/icons/health.webp" type="image/webp" />
                  <img src="assets/ui/icons/health.webp" alt="" />
                </picture>
              </button>
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="fun"
                aria-label="Frolic"
                title="Frolic"
              >
                <picture>
                  <source srcset="assets/ui/icons/boredom.webp" type="image/webp" />
                  <img src="assets/ui/icons/boredom.webp" alt="" />
                </picture>
              </button>
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="rest"
                aria-label="Rest"
                title="Rest"
              >
                <picture>
                  <source srcset="assets/ui/icons/tired.webp" type="image/webp" />
                  <img src="assets/ui/icons/tired.webp" alt="" />
                </picture>
              </button>
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="repair"
                aria-label="Repair House"
                title="Repair House"
              >
                <picture>
                  <source srcset="assets/ui/icons/repair.webp" type="image/webp" />
                  <img src="assets/ui/icons/repair.webp" alt="" />
                </picture>
              </button>
              <button
                class="btn ghost small pony-command-btn"
                type="button"
                data-command="market"
                aria-label="Market supplies"
                title="Market supplies"
              >
                <picture>
                  <source
                    srcset="assets/ui/icons/ingredient-produce.webp"
                    type="image/webp"
                  />
                  <img src="assets/ui/icons/ingredient-produce.webp" alt="" />
                </picture>
              </button>
              <button class="btn ghost small" type="button" data-command="clear">Clear</button>
              <button class="btn ghost small" type="button" data-command="close">
                Close
              </button>
            </div>
          </div>
          <canvas id="pony-map"></canvas>
          <div id="map-tooltip" class="map-tooltip" aria-hidden="true"></div>
          <div id="pony-quickbar" class="pony-quickbar" aria-label="Pony shortcuts">
            <div class="pony-quickbar-list" data-pony-quickbar-list></div>
            <div class="pony-quickbar-actions">
              <button
                class="pony-quickbar-action"
                type="button"
                data-quickbar-action="magic"
                aria-label="Magic wand"
                title="Magic wand"
              >
                <img src="assets/ui/icons/magic-wand.webp" alt="" />
              </button>
            </div>
          </div>
          <p id="map-status" class="map-status">Loading map...</p>
        </div>
      </section>

      <section id="speech" class="section speech">
        <div class="section-title">
          <h2>Talk to the Ponies</h2>
          <p>Ask a question and hear a pony reply (local helper required).</p>
        </div>
        <div class="speech-card">
          <div class="speech-controls">
            <label class="speech-select" for="speech-pony-select">
              <span>Talk to</span>
              <select id="speech-pony-select"></select>
            </label>
            <button class="btn primary" type="button" id="speech-toggle">Start Listening</button>
            <button class="btn ghost" type="button" id="speech-clear">Clear</button>
            <div class="speech-indicator" id="speech-pony-indicator" aria-live="polite">
              <span class="speech-indicator-dot" aria-hidden="true"></span>
              <span class="speech-indicator-text">Pony quiet</span>
            </div>
            <span class="speech-status" id="speech-status">Helper offline.</span>
          </div>
          <div class="speech-panels">
            <div class="speech-panel">
              <div class="speech-panel-header">
                <h3>Transcript</h3>
                <div class="speech-pony-avatar">
                  <img id="speech-pony-avatar" alt="" />
                </div>
              </div>
              <div class="speech-box" id="speech-transcript" aria-live="polite"></div>
            </div>
          </div>
          <div class="speech-pronunciation">
            <button class="speech-pronunciation-toggle" type="button" id="speech-pronounce-toggle" aria-expanded="true">
              <span>Pronunciation helper</span>
              <span class="speech-pronunciation-icon" aria-hidden="true">▾</span>
            </button>
            <div class="speech-pronunciation-body" id="speech-pronounce-body">
              <p class="speech-hint">
                Teach the helper how to say special names (Twylite → Twy-light).
              </p>
              <div class="speech-pronunciation-controls">
                <input id="speech-pronounce-token" type="text" placeholder="Token" />
                <input id="speech-pronounce-normalized" type="text" placeholder="Normalized" />
                <button class="btn ghost small" type="button" id="speech-pronounce-save">
                  Save
                </button>
                <button class="btn ghost small" type="button" id="speech-pronounce-delete">
                  Delete
                </button>
              </div>
              <p class="speech-guide-status" id="speech-guide-status"></p>
            </div>
          </div>
        </div>
      </section>

      <section id="ponies" class="section">
        <div class="section-title">
          <h2>Meet the Ponies</h2>
          <p>Each pony has a special talent and a favorite snack.</p>
        </div>
        <div class="pony-grid" id="pony-grid"></div>
      </section>

      <section id="creators" class="section create">
        <div class="section-title">
          <h2>Create Your Own Pony</h2>
          <p>Mix colors, pick a talent, and name your new friend.</p>
        </div>
        <div class="create-card">
          <div>
            <h3>Starter Recipe</h3>
            <p>
              Choose a body color, add a bright mane, and finish with one special
              talent word.
            </p>
            <ul>
              <li>Color: mint, peach, or lavender</li>
              <li>Mane: swirl, sparkle, or zigzag</li>
              <li>Talent: cloud sculpting, star catching, or garden growing</li>
            </ul>
          </div>
          <div class="create-callout">
            <p class="callout-title">Name Builder</p>
            <p>Try combining two words: Sunrise + Drift, Luna + Patch, Cocoa + Skip.</p>
            <button class="btn secondary" type="button" id="pony-name-btn">
              Add to the Parade
            </button>
          </div>
        </div>
        <p class="create-note">
          Use the form below while running the local Pony Lab server to create
          new ponies and generate matching images.
        </p>
        <form id="pony-form" class="pony-form">
          <div class="field">
            <label for="pony-name">Pony name</label>
            <input id="pony-name" name="name" placeholder="Golden Violet" required />
          </div>
          <div class="field">
            <label for="pony-species">Species</label>
            <select id="pony-species" name="species">
              <option value="pony">Pony</option>
              <option value="unicorn">Unicorn</option>
            </select>
          </div>
          <div class="field">
            <label for="pony-body">Body color</label>
            <input id="pony-body" name="body_color" placeholder="sunny yellow" />
          </div>
          <div class="field">
            <label for="pony-mane">Mane color</label>
            <input id="pony-mane" name="mane_color" placeholder="royal purple" />
          </div>
          <div class="field">
            <label for="pony-accent">Accent color</label>
            <input id="pony-accent" name="accent_color" placeholder="buttercream" />
          </div>
          <div class="field">
            <label for="pony-talent">Talent</label>
            <input id="pony-talent" name="talent" placeholder="cloud sculpting" />
            <small class="field-hint">Tip: -ing phrases work great (cloud sculpting).</small>
          </div>
          <div class="field">
            <label for="pony-personality">Personality</label>
            <input id="pony-personality" name="personality" placeholder="gentle and brave" />
          </div>
          <div class="form-actions">
            <button class="btn primary" type="submit">Create Pony</button>
            <p id="pony-result" class="pony-result" role="status"></p>
          </div>
        </form>
        <div class="creator-spotlight">
          <picture>
            <source srcset="assets/author/author.webp" type="image/webp" />
            <img src="assets/author/author.jpeg" alt="Pony Parade creator portrait" />
          </picture>
          <div>
            <h3>Meet the Creator</h3>
            <p>Built by a 7-year-old designer with a huge imagination and a love of ponies.</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>Made with imagination and a sprinkle of pony magic.</p>
    </footer>
    <script type="module" src="assets/js/app.js"></script>
  </body>
</html>
